<script src="wuy.js"></script>
<style>
body,html,img {width:100%;height:100%;margin:0px;padding:0px}
div {position:fixed;top:10px;right:20px;z-index:2;cursor:pointer;color:red;font-size:100px}
</style>
<script>
var list=[],N;

document.addEventListener("init",function() { // published when socket is connected !

    wuy.feed().then( ll=>{
        list=ll;
        set(0)
    })

    ////===================================================
    //// the same ^, using wuy.fetch()
    //// (not possible with the classic window.fetch, coz CORS trouble)
    ////===================================================
    // wuy.fetch("https://www.reddit.com/r/pics/.rss")
    //     .then( x=>{return x.text()} )
    //     .then( x=>{
    //         list=x.match(/https:..i\.redd\.it\/[^\.]+\..../g)
    //         set(0)
    //     })
    ////===================================================

})


function set(n) {
    N=n;
    document.querySelector("#i").src=list[n];
}
</script>
<img id="i" src="" onclick="set( (N+1)%list.length)"/>
<div onclick="window.close()">X</div>   <!-- wuy.exit() one day !-->